<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NexaCore Labs ‚Äî AI ¬∑ Apps ¬∑ Web ¬∑ Brand</title>
  <meta name="description" content="NexaCore Labs ‚Äî AI-first product studio building future-ready apps, websites, and brands." />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <style>
  /* -------------------------
     NexaCore Labs single-file site
     Mobile-first, responsive, accessible
     ------------------------- */

  :root{
    --bg:#07080b;
    --panel: rgba(255,255,255,0.03);
    --muted:#9fb2c6;
    --accent-blue:#3B82F6;
    --accent-cyan:#06B6D4;
    --nurfutura-start:#8b2c00;
    --nurfutura-end:#8b2c00;
    --white:#f5f7fa;
    --glass: rgba(255,255,255,0.02);
    --radius:12px;
    --maxw:1100px;
    --header-h:72px;
  }

  :root[data-theme="light"]{
    --bg:#f6f8fb;
    --panel: rgba(0,0,0,0.03);
    --muted:#334155;
    --white:#071022;
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background: radial-gradient(800px 240px at 10% 10%, rgba(59,130,246,0.03), transparent), radial-gradient(700px 200px at 92% 92%, rgba(6,182,212,0.02), transparent), var(--bg);
    color:var(--white);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-x:hidden;
  }

  a{color:inherit}
  img{max-width:100%;display:block}
  .container{max-width:var(--maxw);margin:0 auto;padding:16px}

  /* Loader */
  #loader {
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;background:linear-gradient(180deg, rgba(2,6,15,0.96), rgba(0,0,0,0.96));z-index:99999;
    transition:opacity .35s ease,transform .35s ease;
  }
  #loader.hide{opacity:0;transform:translateY(-8px);pointer-events:none}
  .loader-logo{width:84px;height:84px;border-radius:14px;background:linear-gradient(135deg,var(--accent-blue),var(--accent-cyan));display:flex;align-items:center;justify-content:center;font-family:Orbitron;color:#001;font-weight:800}
  .loader-sub{color:var(--muted);font-size:13px}

  /* Header */
  header.site-header{position:fixed;top:0;left:0;right:0;height:var(--header-h);background:linear-gradient(180deg, rgba(2,6,15,0.92), rgba(2,6,15,0.65));backdrop-filter:blur(6px);border-bottom:1px solid rgba(59,130,246,0.03);z-index:9999}
  header .inner{max-width:var(--maxw);margin:0 auto;height:var(--header-h);display:flex;align-items:center;justify-content:space-between;padding:10px 16px;gap:12px}
  .brand{display:flex;align-items:center;gap:10px;cursor:pointer}
  .brand img{width:50px;height:50px;border-radius:10px;object-fit:contain}
  .brand .title{font-family:Orbitron;font-weight:700}
  .nav{display:flex;align-items:center;gap:10px}
  .nav a{padding:8px 10px;border-radius:8px;color:var(--muted);text-decoration:none;font-weight:600}
  .nav a:hover{color:var(--accent-blue)}
  .primary-cta{background:linear-gradient(90deg,var(--accent-blue),var(--accent-cyan));color:#001;padding:8px 14px;border-radius:12px;font-weight:800;border:none;cursor:pointer;box-shadow:0 12px 60px rgba(59,130,246,0.12)}
  /* theme & mobile toggles */
  .controls{display:flex;align-items:center;gap:8px}
  .icon-btn{width:42px;height:42px;border-radius:10px;border:none;background:transparent;color:var(--muted);cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
  .icon-btn:hover{color:var(--accent-blue)}

  /* Mobile Panel */
  #mobilePanel{display:none;position:fixed;top:var(--header-h);right:12px;background:linear-gradient(180deg,rgba(3,6,12,0.98),rgba(3,6,12,0.95));padding:12px;border-radius:10px;z-index:99999;box-shadow:0 30px 80px rgba(0,0,0,0.6)}
  #mobilePanel ul{list-style:none;display:flex;flex-direction:column;gap:8px;padding:0;margin:0}
  #mobilePanel a{display:block;padding:8px 12px;color:var(--white);border-radius:8px}

  /* Main / Hero */
  main{padding-top:calc(var(--header-h) + 22px)}
  .hero{display:grid;grid-template-columns:1fr 360px;gap:18px;align-items:center;padding:28px 0}
  .hero .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:12px;padding:20px;border:1px solid rgba(255,255,255,0.03)}
  .hero h1{font-family:Orbitron;font-size:clamp(22px,4.2vw,36px);color:var(--accent-blue);margin:0;line-height:1.05}
  .hero .lead{color:var(--muted);margin-top:10px}
  .cta-row{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
  .cta{background:linear-gradient(90deg,var(--accent-blue),var(--accent-cyan));color:#001;padding:10px 14px;border-radius:12px;border:none;font-weight:800;cursor:pointer}
  .cta.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--accent-blue)}
  .chip{display:inline-block;padding:6px 10px;border-radius:999px;background:var(--glass);color:var(--muted);margin-right:8px}

  /* Stage */
  .stage{height:320px;border-radius:12px;background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
  .float{position:absolute;border-radius:999px;pointer-events:none}
  .float.s{width:36px;height:36px;background:linear-gradient(90deg,var(--accent-blue),rgba(59,130,246,0.12));left:6%;top:20%}
  .float.m{width:64px;height:64px;background:linear-gradient(90deg,var(--accent-cyan),rgba(6,182,212,0.12));right:8%;top:14%}
  .float.g{width:100px;height:100px;background:rgba(255,255,255,0.02);left:26%;bottom:12%;border-radius:18px;border:1px solid rgba(59,130,246,0.04)}

  /* Sections */
  section{padding:18px 0}
  .title-row{display:flex;justify-content:space-between;align-items:end;margin-bottom:12px;gap:12px}
  h2.section-title{font-family:Orbitron;font-size:18px;color:var(--accent-blue);margin:0}
  .muted{color:var(--muted);font-size:14px}

  /* Cards & grids */
  .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
  .card{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.03)}
  .project-thumb{height:160px;border-radius:10px;background:linear-gradient(90deg,var(--accent-blue),var(--accent-cyan));display:flex;align-items:center;justify-content:center;color:#001;font-weight:800}
  .project-thumb img{width:100%;height:100%;object-fit:cover;border-radius:10px}

  /* services */
  .service-list{display:flex;flex-direction:column;gap:10px}
  .service-item{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02)}
  .service-icon{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:linear-gradient(90deg,var(--accent-blue),var(--accent-cyan));color:#001}

  /* Nur Futura button */
  .nurfutura-btn{display:inline-block;padding:12px 18px;border-radius:999px;background:linear-gradient(90deg,var(--nurfutura-start),var(--nurfutura-end));color:#fff;font-weight:800;border:none;cursor:pointer;box-shadow:0 0 20px rgba(139,92,246,0.38)}
  .nurfutura-btn:hover{transform:translateY(-3px);box-shadow:0 0 34px rgba(139,92,246,0.68)}
  @keyframes nfPulse{0%{box-shadow:0 0 20px rgba(139,92,246,0.28)}50%{box-shadow:0 0 34px rgba(139,92,246,0.58)}100%{box-shadow:0 0 20px rgba(139,92,246,0.28)}}
  .nurfutura-btn.pulse{animation:nfPulse 3s infinite}

  /* Contact layout */
  .contact-grid{display:grid;grid-template-columns:1fr 320px;gap:12px}
  .form-card input,.form-card textarea,.form-card select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:rgba(255,255,255,0.02);color:var(--white)}

  /* Modal */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:99999;padding:12px}
  .modal .box{max-width:920px;width:100%;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.03)}

  /* Footer */
  footer{padding:20px 0;border-top:1px solid rgba(59,130,246,0.03);color:var(--muted)}

  /* Responsive adjustments */
  @media(min-width:900px){ main{padding-top:calc(var(--header-h) + 36px)} .hero{grid-template-columns:1fr 400px;gap:22px} .stage{height:360px} .project-thumb{height:180px} }
  @media(max-width:899px){
    .nav{display:none}
    .icon-btn.mobile{display:inline-flex}
    #mobilePanel{display:none}
    header .inner{gap:8px}
    .hero{grid-template-columns:1fr;gap:12px}
    .stage{height:240px}
    .project-thumb{height:140px}
    .contact-grid{grid-template-columns:1fr}
    .cta-row{flex-direction:column}
    .cta{width:100%}
    .nurfutura-btn{width:100%;text-align:center}
  }
  @media(max-width:420px){
    .brand img{width:44px;height:44px}
    .brand .title{font-size:14px}
    header .inner{padding:8px 12px}
    .loader-logo{width:72px;height:72px}
  }
  </style>
</head>
<body data-theme="dark">
  <!-- LOADER -->
  <div id="loader" role="status" aria-live="polite">
    <div class="loader-logo" aria-hidden="true">NCL</div>
    <div class="loader-sub">Booting NexaCore ‚Äî initialising modules</div>
  </div>

  <!-- HEADER -->
  <header class="site-header" role="banner" aria-label="Main header">
    <div class="inner container">
      <a class="brand" href="#home" aria-label="NexaCore Labs home" onclick="scrollToId('home')">
        <img src="logo.png" alt="NexaCore logo" onerror="this.src='https://via.placeholder.com/120?text=NCL'">
        <div>
          <div class="title">NexaCore Labs</div>
          <div class="muted" style="font-size:12px">AI ¬∑ App ¬∑ Web ¬∑ Brand</div>
        </div>
      </a>

      <nav class="nav" role="navigation" aria-label="Main navigation">
        <a href="#home" onclick="scrollToId('home')">Home</a>
        <a href="#about" onclick="scrollToId('about')">About</a>
        <a href="#services" onclick="scrollToId('services')">Services</a>
        <a href="#projects" onclick="scrollToId('projects')">Projects</a>
        <a href="#partners" onclick="scrollToId('partners')">Partners</a>
        <a href="#contact" class="primary-cta" onclick="scrollToId('contact')">Work with us</a>
      </nav>

      <div class="controls">
        <button class="icon-btn" id="themeToggle" aria-label="Toggle theme" title="Toggle theme"><i class="fa-solid fa-sun"></i></button>
        <button class="icon-btn mobile" id="mobileToggle" aria-label="Open menu" title="Open menu"><i class="fa-solid fa-bars"></i></button>
      </div>
    </div>
  </header>

  <!-- Mobile panel (hidden on desktop) -->
  <div id="mobilePanel" aria-hidden="true" role="menu">
    <ul>
      <li><a href="#home" onclick="scrollToId('home');toggleMobile(false)">Home</a></li>
      <li><a href="#about" onclick="scrollToId('about');toggleMobile(false)">About</a></li>
      <li><a href="#services" onclick="scrollToId('services');toggleMobile(false)">Services</a></li>
      <li><a href="#projects" onclick="scrollToId('projects');toggleMobile(false)">Projects</a></li>
      <li><a href="#partners" onclick="scrollToId('partners');toggleMobile(false)">Partners</a></li>
      <li><a href="#contact" onclick="scrollToId('contact');toggleMobile(false)">Contact</a></li>
    </ul>
  </div>

  <!-- MAIN -->
  <main class="container" id="main" role="main">
    <!-- HERO -->
    <section id="home" class="hero" aria-label="Hero">
      <div class="panel">
        <h1>We craft AI-first products & cinematic brand experiences.</h1>
        <p class="lead muted">NexaCore Labs blends design, engineering, and strategy to build future-ready products, immersive campaigns, and hands-on tech education.</p>

        <div class="cta-row">
          <button class="cta" onclick="scrollToId('contact')">Start a project</button>
          <button class="cta secondary" onclick="scrollToId('projects')">View projects</button>
          <button class="cta" onclick="openAssistant()">Ask NexaBot</button>
        </div>

        <div style="margin-top:12px">
          <span class="chip">AI Development</span>
          <span class="chip">App Development</span>
          <span class="chip">Website Development</span>
        </div>
      </div>

      <aside class="stage" aria-hidden="false">
        <div class="float s" id="f1" aria-hidden="true"></div>
        <div class="float m" id="f2" aria-hidden="true"></div>
        <div class="float g" id="f3" aria-hidden="true"></div>

        <div id="lottieHook" style="width:220px;height:220px" data-lottie-path=""></div>

        <div style="position:absolute;right:14px;bottom:14px;background:rgba(255,255,255,0.02);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)">
          <strong>Core AI</strong>
          <div class="muted" style="font-size:13px">Realtime inference ¬∑ pipelines</div>
        </div>
      </aside>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section" aria-label="About">
      <div class="title-row">
        <h2 class="section-title">About NexaCore Labs</h2>
        <small class="muted">We combine creativity, AI, and product thinking</small>
      </div>
      <div class="card">
        <p class="muted">NexaCore Labs is a product studio that builds AI-first experiences, mobile & web apps, and premium brand visuals. We focus on AI Development, App Development, Website Development, Graphic Design, Brand Management and related services. We teach, launch, and grow products with a human-centered approach.</p>
        <p style="margin-top:10px" class="muted"><strong>Mission:</strong> Build thoughtful, ethical AI and beautiful digital products that scale.</p>
      </div>
    </section>

    <!-- SERVICES -->
    <section id="services" class="section" aria-label="Services">
      <div class="title-row">
        <h2 class="section-title">Services</h2>
        <small class="muted">What we deliver</small>
      </div>

      <div class="card">
        <div class="service-list">
          <div class="service-item"><div class="service-icon"><i class="fa-solid fa-brain"></i></div><div><div style="font-weight:700">AI Development</div><div class="muted" style="font-size:13px">Conversational agents, custom models, pipelines and integrations.</div></div></div>

          <div class="service-item"><div class="service-icon"><i class="fa-solid fa-mobile-screen-button"></i></div><div><div style="font-weight:700">App Development</div><div class="muted" style="font-size:13px">iOS/Android apps, PWAs and native experiences.</div></div></div>

          <div class="service-item"><div class="service-icon"><i class="fa-solid fa-code"></i></div><div><div style="font-weight:700">Website Development</div><div class="muted" style="font-size:13px">Fast, accessible, SEO-friendly sites & web apps.</div></div></div>

          <div class="service-item"><div class="service-icon"><i class="fa-solid fa-pen-nib"></i></div><div><div style="font-weight:700">Graphic Design</div><div class="muted" style="font-size:13px">Brand visuals, motion and high-fidelity mockups.</div></div></div>

          <div class="service-item"><div class="service-icon"><i class="fa-solid fa-bullhorn"></i></div><div><div style="font-weight:700">Brand Management</div><div class="muted" style="font-size:13px">Identity, campaigns and long-term creative strategy.</div></div></div>

          <div class="service-item"><div class="service-icon"><i class="fa-solid fa-layer-group"></i></div><div><div style="font-weight:700">Related</div><div class="muted" style="font-size:13px">Consulting, education, integrations and partner support.</div></div></div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="section" aria-label="Projects">
      <div class="title-row">
        <h2 class="section-title">Projects</h2>
        <small class="muted">Prototypes & case studies</small>
      </div>

      <div class="cards">
        <article class="card">
          <div class="project-thumb"><img src="z.jpeg" alt="Nexa Study" onerror="this.src='https://via.placeholder.com/800x450?text=Nexa+Study'"></div>
          <h3>Nexa Study</h3>
          <p class="muted">AI-powered learning platform with gamified modules, teacher dashboards and automated grading.</p>
          <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="cta" onclick="openProject('Nexa Study','Demo placeholder for Nexa Study')">Preview</button>
            <button class="cta secondary" onclick="scrollToId('contact')">Request Case Study</button>
          </div>
        </article>

        <article class="card">
          <div class="project-thumb"><img src="zz.jpeg" alt="Aura" onerror="this.src='https://via.placeholder.com/800x450?text=Aura'"></div>
          <h3>Aura</h3>
          <p class="muted">Conversational AI agent for multi-channel support and automation.</p>
          <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="cta" onclick="openProject('Aura','Demo placeholder for Aura')">Preview</button>
            <button class="cta secondary" onclick="scrollToId('contact')">Request Case Study</button>
          </div>
        </article>

        <article class="card">
          <div class="project-thumb"><img src="zzz.jpeg" alt="NexaCity" onerror="this.src='https://via.placeholder.com/800x450?text=NexaCity'"></div>
          <h3>NexaCity</h3>
          <p class="muted">Smart city simulations and connected infrastructure visualizations.</p>
          <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="cta" onclick="openProject('NexaCity','Demo placeholder for NexaCity')">Preview</button>
            <button class="cta secondary" onclick="scrollToId('contact')">Request Case Study</button>
          </div>
        </article>
      </div>
    </section>

    <!-- PARTNERS -->
    <section id="partners" class="section" aria-label="Partners">
      <div class="title-row">
        <h2 class="section-title">Partners</h2>
        <small class="muted">Strategic collaboration ‚Äî Nur Futura Marketing</small>
      </div>

      <div class="card">
        <h3>Nur Futura Marketing</h3>
        <p class="muted">Partnering to blend strategic marketing and futuristic product launches ‚Äî shared campaigns, education programs and brand accelerators.</p>
        <div style="margin-top:12px">
          <a class="nurfutura-btn pulse" href="nurfuturamarketing.com.ng" target="_blank" rel="noopener noreferrer">Visit Nur Futura</a>
        </div>
      </div>

      <div style="margin-top:12px" class="muted">Want to partner? <button class="cta secondary" onclick="scrollToId('contact')">Become a Partner</button></div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section" aria-label="Contact">
      <div class="title-row">
        <h2 class="section-title">Contact</h2>
        <small class="muted">Start a project ‚Äî we reply in ~48 hours</small>
      </div>

      <div class="contact-grid">
        <form id="contactForm" class="form-card" action="https://formspree.io/f/xqayvbag" method="POST" onsubmit="return submitContact(event)">
          <label style="display:block"><strong>Your name</strong><input name="name" required /></label>
          <label style="display:block;margin-top:8px"><strong>Email</strong><input name="_replyto" type="email" required /></label>
          <label style="display:block;margin-top:8px"><strong>Project type</strong>
            <select name="project_type" style="margin-top:6px">
              <option>AI Development</option><option>App Development</option><option>Website Development</option><option>Graphic Design</option><option>Brand Management</option><option>Related</option>
            </select>
          </label>
          <label style="display:block;margin-top:8px"><strong>Message</strong><textarea name="message" rows="6" required></textarea></label>

          <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
            <button class="cta" type="submit">Send Message</button>
            <button type="button" class="cta secondary" onclick="fillDemo()">Auto Fill</button>
          </div>
          <div id="contactStatus" style="margin-top:8px;color:var(--muted);display:none"></div>
        </form>

        <aside class="form-card">
          <h4>Contact Info</h4>
          <p class="muted">Email: <a href="mailto:codezilla@nexacorelabs.site" style="color:var(--accent-blue)">codezilla@nexacorelabs.site</a></p>
          <p class="muted">Location: Lagos / Dublin (hybrid)</p>

          <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
            <a class="cta secondary" href="#" onclick="event.preventDefault()">Twitter</a>
            <a class="cta secondary" href="#" onclick="event.preventDefault()">LinkedIn</a>
            <a class="cta secondary" href="#" onclick="event.preventDefault()">Instagram</a>
          </div>

          <div style="margin-top:18px">
            <div style="font-weight:700;margin-bottom:6px">Response time</div>
            <div class="muted">We usually reply within <strong>48 hours</strong> ‚Äî our AI likes to think before it types. ü§ñüí§</div>
          </div>
        </aside>
      </div>
    </section>

    <!-- CTA FOOTER -->
    <section class="section">
      <div class="card" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <div>
          <h3 style="margin:0">Ready to create something extraordinary?</h3>
          <div class="muted" style="margin-top:6px">Tell us about your idea ‚Äî we‚Äôll respond within 48 hours.</div>
        </div>
        <div><button class="cta" onclick="scrollToId('contact')">Start a Project</button></div>
      </div>
    </section>

  </main>

  <!-- PROJECT MODAL -->
  <div id="projectModal" class="modal" role="dialog" aria-hidden="true">
    <div class="box">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h3 id="modalTitle">Project</h3>
        <button class="cta secondary" onclick="closeProject()">Close</button>
      </div>
      <div id="modalBody" style="margin-top:12px;color:var(--muted)">Details...</div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer role="contentinfo">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
      <div><strong>NexaCore Labs</strong><div class="muted">¬© <span id="year"></span> NexaCore Labs</div></div>
      <div class="muted">Made with ‚öôÔ∏è + AI ‚Äî Branded to your logo</div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.9.6/lottie.min.js"></script>

  <script>
  // Basic init
  document.getElementById('year').textContent = new Date().getFullYear();

  // Loader safety: hide on load or after timeout
  const loader = document.getElementById('loader');
  let loaderHidden = false;
  function hideLoader(){
    if(loaderHidden) return;
    loaderHidden = true;
    loader.classList.add('hide');
    setTimeout(()=> loader.style.display='none', 420);
  }
  window.addEventListener('load', ()=> setTimeout(hideLoader, 250));
  setTimeout(hideLoader, 8000); // safety

  // Mobile panel toggle
  const mobileToggle = document.getElementById('mobileToggle');
  const mobilePanel = document.getElementById('mobilePanel');
  function toggleMobile(open){
    const isOpen = mobilePanel.classList.contains('open');
    const show = (typeof open === 'boolean') ? open : !isOpen;
    if(show){
      mobilePanel.classList.add('open'); mobilePanel.style.display='block'; mobilePanel.setAttribute('aria-hidden','false');
      document.addEventListener('click', outsideMobile);
    } else {
      mobilePanel.classList.remove('open'); mobilePanel.style.display='none'; mobilePanel.setAttribute('aria-hidden','true');
      document.removeEventListener('click', outsideMobile);
    }
  }
  function outsideMobile(e){ if(!mobilePanel.contains(e.target) && e.target !== mobileToggle) toggleMobile(false); }
  mobileToggle.addEventListener('click', (e)=>{ e.stopPropagation(); toggleMobile(); });

  // Close mobile and modals on Escape
  document.addEventListener('keydown', (ev)=>{ if(ev.key === 'Escape'){ toggleMobile(false); closeProject(); closeAssistant(); } });

  // Scroll helper
  function scrollToId(id){
    const el = document.getElementById(id);
    if(!el) return;
    const headerH = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--header-h')) || 72;
    const top = el.getBoundingClientRect().top + window.pageYOffset - headerH - 8;
    window.scrollTo({ top, behavior: 'smooth' });
    toggleMobile(false);
  }

  // GSAP floats
  document.addEventListener('DOMContentLoaded', ()=>{
    try{
      gsap.to("#f1",{y:-28,x:18,duration:6,repeat:-1,yoyo:true,ease:"sine.inOut"});
      gsap.to("#f2",{y:36,x:-36,duration:8,repeat:-1,yoyo:true,ease:"sine.inOut"});
      gsap.to("#f3",{y:-18,x:60,duration:10,repeat:-1,yoyo:true,ease:"sine.inOut"});
    }catch(e){console.warn('GSAP missing',e)}

    // Lottie hook if provided
    document.querySelectorAll('[data-lottie-path]').forEach(el=>{
      const p = el.getAttribute('data-lottie-path');
      if(p && window.lottie){
        try{ lottie.loadAnimation({container:el,renderer:'svg',loop:true,autoplay:true,path:p}); }
        catch(err){ console.warn('Lottie failed',err) }
      }
    });
  });

  // Modal
  function openProject(title, body){
    document.getElementById('modalTitle').textContent = title;
    document.getElementById('modalBody').textContent = body;
    const m = document.getElementById('projectModal'); m.style.display='flex'; m.setAttribute('aria-hidden','false');
  }
  function closeProject(){ const m = document.getElementById('projectModal'); m.style.display='none'; m.setAttribute('aria-hidden','true'); }

  // Assistant placeholder
  function openAssistant(){ alert('NexaBot placeholder ‚Äî open contact form to reach us.'); }
  function closeAssistant(){ /* placeholder */ }

  // Contact form (Formspree)
  async function submitContact(e){
    e.preventDefault();
    const form = e.target;
    const status = document.getElementById('contactStatus');
    status.style.display='block'; status.textContent = 'Sending‚Ä¶';
    const action = form.action;
    const data = new FormData(form);
    try {
      const res = await fetch(action, { method: 'POST', body: data, headers: { 'Accept': 'application/json' }});
      if(res.ok){ status.textContent = 'Thanks ‚Äî we received your message.'; form.reset(); }
      else { const j = await res.json(); status.textContent = j?.error || 'Submission failed'; }
    } catch(err){ status.textContent = 'Network error'; }
    setTimeout(()=> status.style.display='none', 6000);
    return false;
  }
  function fillDemo(){
    const f = document.getElementById('contactForm'); if(!f) return;
    f.querySelector('[name="name"]').value = 'Ralph Lawal';
    f.querySelector('[name="_replyto"]').value = 'ralph@example.com';
    f.querySelector('[name="project_type"]').value = 'App Development';
    f.querySelector('[name="message"]').value = 'Hi ‚Äî I want to build an AI app. Please advise next steps.';
  }

  // Theme toggle
  const themeBtn = document.getElementById('themeToggle');
  function setTheme(t){ document.documentElement.setAttribute('data-theme', t); localStorage.setItem('nexa-theme', t); updateThemeIcon(); }
  function updateThemeIcon(){ const i = themeBtn.querySelector('i'); if(document.documentElement.getAttribute('data-theme') === 'light'){ i.className='fa-solid fa-moon' } else { i.className='fa-solid fa-sun' } }
  themeBtn.addEventListener('click', ()=> { const curr = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light'; setTheme(curr); });
  const saved = localStorage.getItem('nexa-theme') || 'dark'; setTheme(saved);

  // Close modal when clicking outside
  document.addEventListener('click', function(e){
    const modal = document.getElementById('projectModal');
    if(modal.style.display === 'flex' && !modal.querySelector('.box').contains(e.target)) closeProject();
  });

  // Footer year
  document.getElementById('year').textContent = new Date().getFullYear();

  // End
  </script>
</body>
</html>
